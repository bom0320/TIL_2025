# 함수 선언문 vs. 함수 표현식 — JS 함수 해석의 핵심 흐름 정리

자바스크립트에서 함수는 일급 객체로 취급되며, **"값처럼 사용 가능한 "함수 객체""** 로 생성된다.

> **일급 객체란?**
>
> 자바스크립트의 함수는 값처럼 변수에 할당할 수도 있고 프로퍼티 값이 될 수도 있으며, 배열의 요소가 될 수도 있다.
>
> 이처럼 값의 성질을 갖는 객체를 일급 객체라고 한다.
>
> 일급 객체라는 것은 함수를 값처럼 자유롭게 사용할 수 있다는 의미!

이 함수 객체를 호출할려면, 누군가 이 함수를 **"가리키는 식별자(identifier)"** 를 가지고 있어야 한다.

- 함수는 **이름(name)** 으로 호출하는 것이 아니라, **식별자(identifier)** 로 호출되기 때문이다

## 함수 선언문과 함수 표현식의 공통점과 차이

자바스크립트에서 함수는 **함수 선언문(function declaration)** 또는 **함수 표현식(function expression)**으로 정의할 수 있다.

이 둘은 겉보기에는 형태가 거의 같지만, **"문맥(context)"**에 따라 해석 방식이 달라진다.

```js
function foo() {
  return 1;
}

const bar = function bar() {
  return 2;
};
```

- `function foo()` 는 **함수 선언문**
- `function bar()`는 **기명 함수 리터럴을 포함한 표현식**

## 함수 리터럴의 중의성 (Ambiguity of Function Literals)

함수 선언문은 함수 이름을 생략할 수 없다는 점을 제외하면 **형태상 함수 리터럴과 동일** 하다.

즉, `function name() {}` 같은 형태는

- 문맥에 따라 함수 선언문으로도,
- 기명 함수 표현식(named function expression)으로도 해석될 수 있다.

이처럼 함수 리터럴도 `{}` 와 같은 **중의적 표현**과 유사ㅏ다.
예를 들어 `{}` 는 문맥에 따라 객체 리터럴일 수도, 블록문일 수도 있따.

- 마찬가지로, `function foo() {}` 역시 문맥에 따라 다르게 해석될 수 있다.

## 자바스크립트 엔진의 해석 기준

1. **값으로 평가되어야하는 문맥에서 사용되는 `function foo()`는**

   - 함수 표현식으로 해석된다.
     - ex) 변수에 할당, 인자로 전달, 괄호로 감싼 경우 등

   ```js
   const f = function foo() {}; // 표현식
   (function foo() {})(); // 표현식
   ```

2. **반면, 단독으로 사용되면**

- **함수 선언문**으로 해석된다.

```js
function foo() {} // 선언문
```

## 함수 선언문은 암묵적으로 식별자를 생성한다.

함수 선언문을 만나면 자바스크립트 엔진은:

1. 해당 함수 이름과 동일한 **식별자(변수 이름)**를 암묵적으로 생성
2. 그 식별자에 함수 객체를 할당

즉, 함수 선언문은 다음과 같은 동작을 자동으로 수행하는 것이다.

```js
function add(x, y) {
  return x + y;
}

// 내부적으로는 다음과 유사함:
var add = function add(x, y) {
  return x + y;
};
```

이 과정 덕분에 `add()`처럼 함수 이름으로 호출하는 것처럼 보여도,
실제로는 식별자 add 를 통해 함수 객체를 참조하고 호출하는 것이다.

## 함수 표현식은 직접 식별자를 만들어줘야 한다.

```js
const add = function add(x, y) {
  return x + y;
};

add(2, 5); // ok
add(); // 호출되는 건 변수 add 가 가리키는 함수 객체

bar(); // ReferenceError: bar is not defined
```

위 코드에서 `function add(x,y)` 의 `add`는
함수 **내부에서만** 유효한 이름이고,
외부에서는 오직 `const add =`로 만든 식별자를 통해서만 접근할 수 있다.

## 결론 요약

- 함수는 이름(name)으로 호출하는 것이 아니라, **식별자(identifier)** 로 호출된다.
- 함수 선언문은 자바스크립트 엔진이 함수 이름과 동일한 식별자를 자동으로 생성해 함수 객체를 할당한다.
- 함수 표현식은 직접 변수나 상수 식별자를 만들어서 함수 객체를 젖아해줘야 한다.
- `function foo()` 와 같이 생긴 구문은 문맥에 따라 선언문 또는 표현식으로 해석될 수 있따.
- 이 차이는 함수의 호이스팅, 스코프, 사용 가능 시점 등에서 미묘하지만 중요한 차이를 만든다.
