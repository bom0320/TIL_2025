TIL: Next.jsì—ì„œ async í•¨ìˆ˜ ì²˜ë¦¬ ì°¨ì´ì— ë”°ë¼ ì»´í¬ë„ŒíŠ¸ ì¶œë ¥ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ì´ìœ 
===

## ë¬¸ì œ ìƒí™©
APIë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” `getVideo()` í•¨ìˆ˜ëŠ” ì˜ ì‘ì„±í–ˆëŠ”ë°, ì•„ë˜ ì½”ë“œì—ì„œëŠ” í™”ë©´ì— JSON ë°ì´í„°ê°€ ì¶œë ¥ë˜ì§€ ì•Šì•˜ìŒ:

```tsx
// âŒ ì¶œë ¥ ì•ˆ ë¨
export default function MovieVideos({ id }: { id: string }) {
  const videos = getVideos(id); // await ì•ˆ ì”€
  return <div>{JSON.stringify(videos)}</div>
}
```

## ì›ì¸ ë¶„ì„
- `getVideos()` ëŠ” `async function` ìœ¼ë¡œ, **í•­ìƒ Promise ê°ì²´ë¥¼ ë°˜í™˜í•¨**
- ìœ„ ì½”ë“œì—ì„œëŠ” `await` ì—†ì´ ë°”ë¡œ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì—,
- `videos`ì—ì„œëŠ” ì‹¤ì œ ë°ì´í„°ê°€ ì•„ë‹ˆë¼ **Promise ìì²´**ê°€ ë“¤ì–´ê°
- ë”°ë¼ì„œ `JSON.stringify(videos)`ëŠ” ì˜ë¯¸ ì—†ëŠ” ê°’ ë˜ëŠ” `[object Promise]`ì²˜ëŸ¼ ì¶œë ¥ë¨

## ì •ìƒ ì‘ë™í•˜ëŠ” ì½”ë“œ

```tsx
export default async function MovieVideos({ id }: { id: string }) {
  const videos = await getVideos(id); // âœ… Promiseê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
  return <div>{JSON.stringify(videos)}</div>
}
```
- ì»´í¬ë„ŒíŠ¸ë¥¼ `async function`ìœ¼ë¡œ ì„ ì–¸í•˜ê³  `await`ì„ ì‚¬ìš©ì‚¬ë©´, ì‹¤ì œ ë°ì´í„°ë¥¼ ë°›ì€ í›„ì— í™”ë©´ì— ë Œë”ë§í•  ìˆ˜ ìˆìŒ

---

## ğŸ§  íŒ: ì™œ awaitê°€ ì¤‘ìš”í• ê¹Œ?
- `async` í•¨ìˆ˜ëŠ” í•­ìƒ **Promise ê°ì²´ë¥¼ ë°˜í™˜**í•¨
- ì¦‰, `getVideos(id)`ëŠ” "ê²°ê³¼ë¥¼ ë‚˜ì¤‘ì— ì¤„ê»˜ìš”~" ë¼ëŠ” **"ì•½ì†(Promise)"**ì´ê¸° ë•Œë¬¸ì— `await` ì—†ì´ ë°”ë¡œ ì‚¬ìš©í•˜ë©´ ì•„ì§ ë„ì°©í•˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ë ¤ëŠ” ê¼´ì´ ë¨

```tsx
JSON.stringify(Promise) // âŒ ì˜ë¯¸ ì—†ìŒ
```
- ë°˜ë“œì‹œ `await`ì„ ì‚¬ìš©í•´ì„œ **Promiseê°€ í•´ê²°(resolved)ëœ ì´í›„ì˜ ê°’ì„ ë°›ì•„ì•¼ ì‹¤ì œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ** 

---
### ğŸ” í•µì‹¬ ìš”ì•½

| í•­ëª© | ì„¤ëª… |
| --- | --- |
| `async function` | í•­ìƒ **Promise**ë¥¼ ë°˜í™˜í•¨ |
| `await` | ì‹¤ì œ ê°’ì„ ì–»ê¸° ìœ„í•´ Promiseê°€ **ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼** |
| `await ì—†ì´ Promiseë¥¼ ì‚¬ìš©` | í™”ë©´ì— ì˜ë¯¸ ì—†ëŠ” ê°ì²´ ì¶œë ¥ or ì•„ë¬´ê²ƒë„ ì•ˆ ë³´ì„ |
| í•´ê²° ë°©ë²• | `await` ì‚¬ìš© + ì»´í¬ë„ŒíŠ¸ë¥¼ `async function`ìœ¼ë¡œ ì„ ì–¸ |

---

> ğŸ¯ ì´ ì‹¤ìˆ˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸, ì„œë²„ ì»´í¬ë„ŒíŠ¸, API í˜¸ì¶œ ë“±ì—ì„œ ìì£¼ ë°œìƒí•  ìˆ˜ ìˆìŒ.
> 
> 
> `async/await`ì˜ ë™ì‘ ì›ë¦¬ë¥¼ ì •í™•íˆ ì´í•´í•˜ê³  ìˆì–´ì•¼ ì•ˆì •ì ì¸ ë¹„ë™ê¸° ë Œë”ë§ì´ ê°€ëŠ¥í•˜ë‹¤!
>